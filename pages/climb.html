<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="ƒêƒÉng k√Ω leo n√∫i B√† ƒêen - Th√¥ng tin v·ªÅ l·ªãch tr√¨nh, quy ƒë·ªãnh, h∆∞·ªõng d·∫´n v√† ƒëƒÉng k√Ω tr·ª±c tuy·∫øn cho ho·∫°t ƒë·ªông leo n√∫i.">
    <meta http-equiv="Content-Language" content="vi">
    <meta name="language" content="Vietnamese">
    <meta name="google" content="translate">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <title>ƒêƒÉng k√Ω leo n√∫i - Khu du l·ªãch qu·ªëc gia N√∫i B√† ƒêen</title>

    <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/favicon-32x32.png">

    <!-- Preconnect to external domains for faster loading -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://unpkg.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">

    <!-- Critical CSS first -->
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/climb.css">

    <!-- Fonts with optimized loading -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Font Awesome - Load asynchronously -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer"></noscript>

    <!-- Tailwind CSS - Load synchronously to ensure configuration works -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Map-related CSS - Load synchronously -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.81.0/dist/L.Control.Locate.min.css">
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css"></noscript>
    
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_blue.css"></noscript>
    
    <style>
        /* Custom notification styles */
        .notification-item {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .notification-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        /* Notification container */
        #adminNotifications {
            pointer-events: none;
        }
        
        #adminNotifications .notification-item {
            pointer-events: auto;
        }
        
        /* Mobile responsive */
        @media (max-width: 640px) {
            #adminNotifications {
                left: 8px !important;
                right: 8px !important;
                max-width: none !important;
            }
            
            .notification-item {
                margin-bottom: 8px;
                padding: 12px !important;
            }
        }
        
        /* Animation classes */
        .notification-enter {
            opacity: 0;
            transform: translateY(-20px) scale(0.95);
        }
        
        .notification-enter-active {
            opacity: 1;
            transform: translateY(0) scale(1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .notification-exit {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        
        .notification-exit-active {
            opacity: 0;
            transform: translateY(-20px) scale(0.95);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
    </style>

    <script>
        // Wait for Tailwind to be available
        if (typeof tailwind !== 'undefined') {
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            primary: {
                                50: '#f0fdf4',
                                100: '#dcfce7',
                                200: '#bbf7d0',
                                300: '#86efac',
                                400: '#4ade80',
                                500: '#10b981',
                                600: '#047857',
                                700: '#047857',
                                800: '#065f46',
                                900: '#064e3b'
                            },
                            accent: {
                                50: '#f0f9ff',
                                100: '#e0f2fe',
                                200: '#bae6fd',
                                300: '#7dd3fc',
                                400: '#38bdf8',
                                500: '#0ea5e9',
                                600: '#0369a1',
                                700: '#0369a1',
                                800: '#075985',
                                900: '#0c4a6e',
                            }
                        },
                        fontFamily: {
                            sans: ['Inter', 'sans-serif']
                        }
                    }
                }
            }
        } else {
            // Fallback if Tailwind fails to load
            console.warn('Tailwind CSS not loaded, using fallback styles');
        }
    </script>
</head>
<body class="bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 text-gray-800 font-sans antialiased">

    <header class="bg-white/90 backdrop-blur-md sticky top-0 z-50 shadow-sm border-b border-gray-100">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-3">
                    <img src="../assets/images/android-chrome-512x512.png" alt="Logo N√∫i B√† ƒêen" class="w-12 h-12 rounded-full object-cover border-2 border-primary-100">
                    <div>
                        <h1 class="text-base sm:text-lg md:text-xl font-bold text-primary-600">Chinh ph·ª•c N√∫i B√† ƒêen</h1>
                        <p class="text-xs text-gray-500 hidden sm:block">T√¢y Ninh, Vi·ªát Nam</p>
                    </div>
                </div>
                
                <nav class="hidden md:block">
                    <ul class="flex space-x-8 items-center">
                        <li><a href="../home.html" class="nav-link px-2 py-2 font-medium hover:text-primary-500 transition duration-200">Trang ch·ªß</a></li>
                        <li><a href="map.html" class="nav-link px-2 py-2 font-medium hover:text-primary-500 transition duration-200">B·∫£n ƒë·ªì s·ªë</a></li>
                        <li><a href="guide.html" class="nav-link px-2 py-2 font-medium hover:text-primary-500 transition duration-200">C·∫©m nang du l·ªãch</a></li>
                        <li><a href="climb.html" class="nav-link active px-2 py-2 font-medium hover:text-primary-500 transition duration-200">ƒêƒÉng k√Ω leo n√∫i</a></li>
                        <li><a href="../home.html#footer" class="nav-link px-2 py-2 font-medium hover:text-primary-500 transition duration-200">Li√™n h·ªá</a></li>
                        <li>
                            <div class="language-selector ml-2" onclick="toggleLanguageMenu()">
                                <i class="fas fa-globe"></i>
                            </div>
                        </li>
                    </ul>
                </nav>
                
                <div class="flex items-center md:hidden">
                    <div class="language-selector mr-2" onclick="toggleLanguageMenu()">
                        <i class="fas fa-globe"></i>
                    </div>
                    <button id="mobile-menu-button" class="text-gray-700 hover:text-primary-700 focus:outline-none" aria-label="M·ªü menu ƒëi·ªÅu h∆∞·ªõng">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
            
            <div id="mobile-menu" class="hidden md:hidden mt-3 border-t border-gray-100 pt-3">
                <ul class="space-y-2">
                    <li><a href="../home.html" class="block px-2 py-2 font-medium hover:text-primary-500 transition duration-200">Trang ch·ªß</a></li>
                    <li><a href="map.html" class="block px-2 py-2 font-medium hover:text-primary-500 transition duration-200">B·∫£n ƒë·ªì s·ªë</a></li>
                    <li><a href="guide.html" class="block px-2 py-2 font-medium hover:text-primary-500 transition duration-200">C·∫©m nang du l·ªãch</a></li>
                    <li><a href="climb.html" class="block px-2 py-2 font-medium hover:text-primary-500 transition duration-200 bg-gray-50 rounded-md text-primary-500">ƒêƒÉng k√Ω leo n√∫i</a></li>
                    <li><a href="../home.html#footer" class="block px-2 py-2 font-medium hover:text-primary-500 transition duration-200">Li√™n h·ªá</a></li>
                </ul>
            </div>
        </div>
    </header>

    <div id="messageBox" class="message-box z-[150]"></div>

    <!-- Admin Notifications Container -->
    <div id="adminNotifications" class="fixed top-20 left-4 right-4 z-[160] max-w-md mx-auto space-y-3"></div>
    
    <!-- Registration Time Status -->
    <div id="registrationTimeStatus" class="fixed top-32 left-4 right-4 z-[150] max-w-md mx-auto"></div>
    


    <div class="container mx-auto px-4 py-8 md:px-6 md:py-12 max-w-5xl">

        <header class="text-center mb-10 md:mb-16">
            <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold text-green-800 mb-3 tracking-tight">Chinh ph·ª•c N√∫i B√† ƒêen</h1>
            <p class="text-lg md:text-xl text-gray-600">ƒêƒÉng k√Ω chuy·∫øn ƒëi, kh√°m ph√° "N√≥c nh√† Nam B·ªô" (986m) v√† nh·∫≠n ch·ª©ng nh·∫≠n ƒëi·ªán t·ª≠ ƒë·ªôc ƒë√°o.</p>
        </header>

        <main class="space-y-10 md:space-y-16">

            <section id="emergency" class="bg-red-100 border-l-4 border-red-600 text-red-800 p-5 rounded-lg shadow-md flex items-start space-x-4">
                <i class="fa-solid fa-triangle-exclamation text-2xl text-red-600 mt-1"></i>
                <div>
                    <h2 class="font-bold text-lg uppercase mb-2">Th√¥ng Tin C·ª©u H·ªô Kh·∫©n C·∫•p</h2>
                    <p class="mb-3">Trong tr∆∞·ªùng h·ª£p kh·∫©n c·∫•p tr√™n ƒë∆∞·ªùng leo n√∫i, vui l√≤ng li√™n h·ªá ngay Hotline:</p>
                    <a href="tel:02763875678" class="inline-flex items-center bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-md text-lg transition duration-150 ease-in-out shadow hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2">
                        <i class="fa-solid fa-phone mr-2"></i>
                        <span>0276.387.5678</span>
                    </a>
                    <p class="mt-3 text-sm text-red-700">Lu√¥n mang theo ƒëi·ªán tho·∫°i, ƒë·∫£m b·∫£o ƒë·ªß pin v√† c√≥ s√≥ng.</p>
                </div>
            </section>

             <section id="trekking-routes" class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                <h2 class="text-2xl md:text-3xl font-semibold mb-6 text-indigo-700 border-b border-indigo-200 pb-4 flex items-center">
                    <i class="fa-solid fa-map-location-dot text-3xl text-indigo-600 mr-4"></i>
                    B·∫£n ƒë·ªì Tuy·∫øn ƒë∆∞·ªùng Leo n√∫i
                </h2>
                <div class="mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Tuy·∫øn ƒë∆∞·ªùng C·ªôt ƒêi·ªán (Ch√≠nh th·ª©c)</h3>
                    <p class="text-sm text-gray-600 mb-4">ƒê√¢y l√† tuy·∫øn ƒë∆∞·ªùng ƒë∆∞·ª£c Ban Qu·∫£n l√Ω cho ph√©p. Vui l√≤ng ƒëi ƒë√∫ng theo l·ªô tr√¨nh ƒë∆∞·ª£c ƒë√°nh d·∫•u. Nh·∫•n n√∫t <i class="fa-solid fa-location-crosshairs"></i> tr√™n b·∫£n ƒë·ªì ƒë·ªÉ xem v·ªã tr√≠ c·ªßa b·∫°n.</p>
                    <div id="mapCanvas" class="w-full rounded-md border border-gray-300 shadow-sm bg-gray-200 z-0 relative">
                        <div class="flex items-center justify-center h-full text-gray-500">
                            <i class="fa-solid fa-spinner fa-spin mr-2"></i> ƒêang t·∫£i b·∫£n ƒë·ªì...
                        </div>
                    </div>
                     <p class="text-xs text-gray-500 mt-2">S·ª≠ d·ª•ng n√∫t +/- ƒë·ªÉ ph√≥ng to/thu nh·ªè.</p>
                    <!-- N√öT T·∫¢I GPX M·ªöI -->
                    <div class="mt-4 text-center sm:text-left">
                        <button type="button" id="downloadGpxBtn" class="inline-flex items-center bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md text-sm transition duration-150 ease-in-out shadow hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                            <i class="fa-solid fa-route mr-2"></i>
                            <span>T·∫£i Tuy·∫øn ƒë∆∞·ªùng GPX</span>
                        </button>
                    </div>
                    <!-- K·∫æT TH√öC N√öT T·∫¢I GPX M·ªöI -->
                </div>
            </section>

            <section id="regulations" class="bg-yellow-50 border border-yellow-300 p-6 rounded-lg shadow-sm">
                 <h2 class="text-xl font-semibold text-yellow-900 mb-5 flex items-center">
                     <i class="fa-solid fa-scroll text-2xl text-yellow-600 mr-3"></i>
                     Quy ƒë·ªãnh An to√†n & B·∫£o v·ªá M√¥i tr∆∞·ªùng
                 </h2>
                                   <p class="text-yellow-800 mb-4 text-sm">V√¨ s·ª± an to√†n c·ªßa b·∫°n v√† b·∫£o t·ªìn v·∫ª ƒë·∫πp t·ª± nhi√™n, vui l√≤ng tu√¢n th·ªß nghi√™m ng·∫∑t c√°c quy ƒë·ªãnh sau:</p>
                 <ul class="list-none space-y-3 text-yellow-900 text-sm md:text-base">
                    <li class="flex items-start"><i class="fa-solid fa-shoe-prints text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">ƒêi ƒë√∫ng ƒë∆∞·ªùng m√≤n:</span> Lu√¥n ƒëi theo ch·ªâ d·∫´n, kh√¥ng ƒëi ƒë∆∞·ªùng t·∫Øt.</span></li>
                    <li class="flex items-start"><i class="fa-solid fa-bottle-water text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">Chu·∫©n b·ªã k·ªπ l∆∞·ª°ng:</span> Mang ƒë·ªß n∆∞·ªõc (1.5-2L+), th·ª©c ƒÉn nh·∫π, y t·∫ø c∆° b·∫£n.</span></li>
                    <li class="flex items-start"><i class="fa-solid fa-shirt text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">Trang ph·ª•c & Trang b·ªã:</span> Qu·∫ßn √°o tho·∫£i m√°i, gi√†y chuy√™n d·ª•ng, ƒë√®n pin, s·∫°c d·ª± ph√≤ng.</span></li>
                    <li class="flex items-start"><i class="fa-solid fa-cloud-sun-rain text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">Ki·ªÉm tra th·ªùi ti·∫øt:</span> Xem d·ª± b√°o, chu·∫©n b·ªã √°o m∆∞a/√°o kho√°c n·∫øu c·∫ßn.</span></li>
                    <li class="flex items-start"><i class="fa-solid fa-mobile-screen-button text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">Th√¥ng b√°o l·ªãch tr√¨nh:</span> Cho ng∆∞·ªùi th√¢n bi·∫øt k·∫ø ho·∫°ch v√† th·ªùi gian d·ª± ki·∫øn.</span></li>
                    <li class="flex items-start"><i class="fa-solid fa-trash-can text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">Gi·ªØ g√¨n v·ªá sinh:</span> Mang to√†n b·ªô r√°c xu·ªëng n√∫i, kh√¥ng x·∫£ r√°c b·ª´a b√£i.</span></li>
                    <li class="flex items-start"><i class="fa-solid fa-leaf text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">B·∫£o v·ªá thi√™n nhi√™n:</span> Kh√¥ng b·∫ª c√†nh, h√°i hoa, kh·∫Øc v·∫Ω, sƒÉn b·∫Øt.</span></li>
                    <li class="flex items-start"><i class="fa-solid fa-fire-extinguisher text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">Ph√≤ng ch·ªëng ch√°y r·ª´ng:</span> Tuy·ªát ƒë·ªëi kh√¥ng ƒë·ªët l·ª≠a, h√∫t thu·ªëc sai quy ƒë·ªãnh.</span></li>
                    <li class="flex items-start"><i class="fa-solid fa-people-group text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">Gi·ªØ li√™n l·∫°c:</span> ƒêi theo ƒëo√†n, kh√¥ng t√°ch nh√≥m ƒëi m·ªôt m√¨nh.</span></li>
                    <li class="flex items-start"><i class="fa-solid fa-flag text-yellow-700 mr-3 mt-1 w-4 text-center"></i><span><span class="font-semibold">B√°o c√°o s·ª± c·ªë:</span> G·ªçi ngay Hotline c·ª©u h·ªô n·∫øu g·∫∑p s·ª± c·ªë ho·∫∑c nguy c∆°.</span></li>
                 </ul>
             </section>

            <section id="registration" class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                                 <h2 class="text-2xl md:text-3xl font-semibold mb-6 text-green-700 border-b border-green-200 pb-4 flex items-center">
                      <i class="fa-solid fa-clipboard-list text-3xl text-green-600 mr-4"></i>
                      ƒêƒÉng k√Ω th√¥ng tin leo n√∫i
                 </h2>

                <!-- N√∫t b·∫Øt ƒë·∫ßu ƒëƒÉng k√Ω -->
                <div id="startRegistrationArea" class="text-center py-8">
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-mountain text-2xl text-blue-600"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-3">B·∫Øt ƒë·∫ßu ƒëƒÉng k√Ω leo n√∫i</h3>
                        <p class="text-gray-600 mb-6">Vui l√≤ng x√°c nh·∫≠n vai tr√≤ c·ªßa b·∫°n tr∆∞·ªõc khi ti·∫øn h√†nh ƒëƒÉng k√Ω</p>
                        <button type="button" id="startRegistrationBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out flex items-center justify-center text-lg shadow hover:shadow-md mx-auto">
                            <i class="fa-solid fa-play mr-2"></i>
                            <span>B·∫Øt ƒë·∫ßu ƒëƒÉng k√Ω</span>
                        </button>
                    </div>
                </div>

                <!-- Form ƒëƒÉng k√Ω (·∫©n ban ƒë·∫ßu) -->
                <div id="registrationFormContainer" class="hidden">
                    <form id="registrationForm" novalidate class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                        <div class="space-y-5">
                            <div class="relative">
                                <label for="leaderName" class="block text-sm font-medium text-gray-700 mb-1">H·ªç t√™n Tr∆∞·ªüng ƒëo√†n/Ng∆∞·ªùi ƒëƒÉng k√Ω <span class="text-red-500">*</span></label>
                                <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
                                    <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-user"></i></span>
                                    <input type="text" id="leaderName" name="leaderName" required class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base" placeholder="Nguy·ªÖn VƒÉn An">
                                </div>
                            </div>
                            <div class="relative">
                                <label for="phoneNumber" class="block text-sm font-medium text-gray-700 mb-1">S·ªë ƒëi·ªán tho·∫°i <span class="text-red-500">*</span></label>
                                 <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
                                     <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-phone"></i></span>
                                     <input type="tel" id="phoneNumber" name="phoneNumber" required pattern="[0-9]{10,11}" title="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i h·ª£p l·ªá (10-11 ch·ªØ s·ªë)" class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base" placeholder="09XXXXXXXX">
                                 </div>
                                <p class="text-xs text-gray-500 mt-1">D√πng ƒë·ªÉ x√°c th·ª±c nh·∫≠n ch·ª©ng nh·∫≠n.</p>
                            </div>
                            <div class="relative">
                                <label for="birthday" class="block text-sm font-medium text-gray-700 mb-1">Ng√†y sinh <span class="text-red-500">*</span></label>
                                        <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
            <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-cake-candles"></i></span>
            <input type="date" id="birthday" name="birthday" required class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base" max="2009-12-31" placeholder="Ch·ªçn ng√†y sinh">
        </div>
        <p class="text-xs text-gray-500 mt-1">
            <i class="fa-solid fa-info-circle mr-1"></i>
            Ch·ªçn ng√†y sinh (ph·∫£i t·ª´ 15 tu·ªïi tr·ªü l√™n).
        </p>
                            </div>
                            <div class="relative">
                                <label for="cccd" class="block text-sm font-medium text-gray-700 mb-1">CƒÉn c∆∞·ªõc c√¥ng d√¢n <span class="text-red-500">*</span></label>
                                <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
                                     <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-id-card"></i></span>
                                     <input type="text" id="cccd" name="cccd" required pattern="[0-9]{12}" title="Nh·∫≠p CCCD h·ª£p l·ªá (12 ch·ªØ s·ªë)" class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base" placeholder="123456789012">
                                 </div>
                                <p class="text-xs text-gray-500 mt-1">Nh·∫≠p ƒë·∫ßy ƒë·ªß 12 s·ªë CCCD.</p>
                            </div>
                            <div class="relative">
                                <label for="address" class="block text-sm font-medium text-gray-700 mb-1">ƒê·ªãa ch·ªâ (T·ªânh/Th√†nh ph·ªë) <span class="text-red-500">*</span></label>
                                <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
                                     <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-location-dot"></i></span>
                                     <input type="text" id="address" name="address" required class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base" placeholder="TP. H·ªì Ch√≠ Minh">
                                 </div>
                            </div>
                             <div class="relative">
                                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">ƒê·ªãa ch·ªâ Email <span class="text-red-500">*</span></label>
                                <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
                                     <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-envelope"></i></span>
                                     <input type="email" id="email" name="email" required class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base" placeholder="nguyenvana@email.com">
                                 </div>
                                <p class="text-xs text-gray-500 mt-1">ƒê·ªÉ nh·∫≠n email x√°c nh·∫≠n ƒëƒÉng k√Ω.</p>
                            </div>
                        </div>

                        <div class="space-y-5">
                             <div class="relative">
                                <label for="groupSize" class="block text-sm font-medium text-gray-700 mb-1">S·ªë l∆∞·ª£ng th√†nh vi√™n (c·∫£ tr∆∞·ªüng ƒëo√†n) <span class="text-red-500">*</span></label>
                                <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
                                     <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-users"></i></span>
                                     <input type="number" id="groupSize" name="groupSize" required min="1" class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base" placeholder="Nh·∫≠p s·ªë ng∆∞·ªùi">
                                 </div>
                                 <div class="bg-yellow-50 border border-yellow-200 rounded p-2 mt-2">
                                     <p class="text-xs text-yellow-800">
                                         <i class="fas fa-exclamation-triangle text-yellow-600 mr-1"></i>
                                         <strong>L∆∞u √Ω:</strong> Vui l√≤ng cung c·∫•p ch√≠nh x√°c.
                                     </p>
                                 </div>
                            </div>
                            <div class="relative">
                                <label for="climbDate" class="block text-sm font-medium text-gray-700 mb-1">Ng√†y leo n√∫i</label>
                                <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
                                     <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-calendar-days"></i></span>
                                     <input type="date" id="climbDate" name="climbDate" class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base">
                                 </div>
                            </div>
                            <div class="relative">
                                <label for="climbTime" class="block text-sm font-medium text-gray-700 mb-1">Gi·ªù leo n√∫i</label>
                                <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
                                     <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-clock"></i></span>
                                     <input type="time" id="climbTime" name="climbTime" class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base">
                                 </div>
                                 <div class="bg-blue-50 border border-blue-200 rounded p-2 mt-2">
                                     <p class="text-xs text-blue-800">
                                         <i class="fas fa-info-circle text-blue-600 mr-1"></i>
                                         <strong>Th·ªùi gian leo:</strong> S·∫Ω ƒë∆∞·ª£c t√≠nh t·ª´ gi·ªù n√†y ƒë·∫øn l√∫c x√°c nh·∫≠n tr√™n ƒë·ªânh n√∫i. Th·ªùi gian th·ª±c s·∫Ω ƒë∆∞·ª£c ghi nh·∫≠n t·ª± ƒë·ªông.
                                     </p>
                                 </div>
                            </div>
                             <div class="relative">
                                <label for="memberList" class="block text-sm font-medium text-gray-700 mb-1">Danh s√°ch th√†nh vi√™n nh·∫≠n ch·ª©ng nh·∫≠n</label>
                                <div class="flex items-start border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-green-500 focus-within:border-green-500">
                                     <span class="pl-3 pr-2 pt-2 text-gray-400"><i class="fa-solid fa-list-ul"></i></span>
                                    <textarea id="memberList" name="memberList" rows="3" class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-base" placeholder="Nh·∫≠p m·ªói t√™n tr√™n m·ªôt d√≤ng (t√πy ch·ªçn)"></textarea>
                                 </div>
                                <p class="text-xs text-gray-500 mt-1">Nh·∫≠p ƒë·∫ßy ƒë·ªß h·ªç t√™n ƒë·ªÉ in ch·ª©ng nh·∫≠n. S·∫Ω hi·ªÉn th·ªã ƒë·ªÉ ch·ªçn khi nh·∫≠n ch·ª©ng nh·∫≠n.</p>
                            </div>
                        </div>
                    </div>

                    <div class="pt-4 border-t border-gray-200">
                        <div class="flex items-start">
                            <div class="flex items-center h-5 mt-0.5">
                                <input id="safetyCommit" name="safetyCommit" type="checkbox" required class="focus:ring-green-500 h-4 w-4 text-green-600 border-gray-300 rounded">
                            </div>
                            <div class="ml-3 text-sm">
                                <label for="safetyCommit" class="font-medium text-gray-700">T√¥i ƒë√£ ƒë·ªçc, hi·ªÉu r√µ v√† cam k·∫øt tu√¢n th·ªß c√°c <a href="#regulations" class="text-blue-600 hover:underline font-semibold">Quy ƒë·ªãnh An to√†n & B·∫£o v·ªá M√¥i tr∆∞·ªùng</a> khi tham gia leo n√∫i <span class="text-red-500">*</span></label>
                            </div>
                        </div>
                         <p id="safetyCommitError" class="text-xs text-red-600 mt-1 hidden ml-8">Vui l√≤ng x√°c nh·∫≠n cam k·∫øt.</p>
                    </div>

                    <div class="pt-2 flex flex-col sm:flex-row gap-3">
                        <button type="submit" id="registerBtn" class="w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150 ease-in-out flex items-center justify-center text-lg shadow hover:shadow-md disabled:opacity-60 disabled:cursor-not-allowed">
                            <i class="fa-solid fa-paper-plane mr-2"></i>
                            <span>ƒêƒÉng k√Ω</span>  
                            <div id="registerSpinner" class="spinner hidden"></div>
                        </button>

                    </div>
                </form>
                </div>
            </section>

            <section id="certification" class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                                   <h2 class="text-2xl md:text-3xl font-semibold mb-6 text-blue-700 border-b border-blue-200 pb-4 flex items-center">
                     <i class="fa-solid fa-award text-3xl text-blue-600 mr-4"></i>
                      Nh·∫≠n Ch·ª©ng nh·∫≠n
                  </h2>
                 
                 <!-- Th√¥ng tin v·ªÅ th·ªùi gian v√† ch·ª©ng nh·∫≠n -->
                 <div class="bg-blue-50 border border-blue-200 p-4 rounded-lg mb-6">
                     <div class="flex items-start">
                         <i class="fas fa-clock text-blue-600 mt-1 mr-3"></i>
                         <div class="text-sm text-blue-800">
                             <p class="font-semibold mb-2">‚è±Ô∏è Th√¥ng tin th·ªùi gian leo n√∫i:</p>
                             <ul class="list-disc list-inside space-y-1 text-xs">
                                 <li><strong>Th·ªùi gian leo:</strong> ƒê∆∞·ª£c t√≠nh t·ª´ l√∫c b·∫Øt ƒë·∫ßu leo ƒë·∫øn l√∫c x√°c nh·∫≠n v·ªã tr√≠ tr√™n ƒë·ªânh</li>
                                 <li><strong>Ghi nh·∫≠n t·ª± ƒë·ªông:</strong> H·ªá th·ªëng s·∫Ω ghi nh·∫≠n th·ªùi gian th·ª±c khi b·∫°n ·∫•n "X√°c th·ª±c"</li>
                                 <li><strong>Hi·ªÉn th·ªã tr√™n ch·ª©ng nh·∫≠n:</strong> Th·ªùi gian leo s·∫Ω ƒë∆∞·ª£c in tr√™n ch·ª©ng nh·∫≠n</li>
                                 <li><strong>Y√™u c·∫ßu:</strong> Ph·∫£i x√°c th·ª±c v·ªã tr√≠ t·∫°i ƒë·ªânh n√∫i (986m) ƒë·ªÉ nh·∫≠n ch·ª©ng nh·∫≠n</li>
                             </ul>
                         </div>
                     </div>
                 </div>

                 <div id="phoneVerificationArea">
                     <div class="mb-4 relative">
                         <label for="verifyPhoneNumber" class="block text-sm font-medium text-gray-700 mb-1">Nh·∫≠p S·ªë ƒëi·ªán tho·∫°i ƒë√£ ƒëƒÉng k√Ω <span class="text-red-500">*</span></label>
                         <div class="flex items-center border border-gray-300 rounded-md shadow-sm focus-within:ring-1 focus-within:ring-blue-500 focus-within:border-blue-500">
                             <span class="pl-3 pr-2 text-gray-400"><i class="fa-solid fa-mobile-screen-button"></i></span>
                             <input type="tel" id="verifyPhoneNumber" name="verifyPhoneNumber" required pattern="[0-9]{10,11}" title="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i ƒë√£ d√πng ƒë·ªÉ ƒëƒÉng k√Ω" class="w-full py-2 border-0 rounded-r-md focus:ring-0 focus:outline-none text-sm" placeholder="Nh·∫≠p l·∫°i SƒêT ƒë√£ ƒëƒÉng k√Ω">
                         </div>
                     </div>
                     <div class="pt-2 flex flex-col sm:flex-row gap-3">
                         <button type="button" id="verifyPhoneBtn" class="w-full sm:w-auto bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 ease-in-out flex items-center justify-center text-lg shadow hover:shadow-md disabled:opacity-60 disabled:cursor-not-allowed">
                             <i class="fa-solid fa-location-crosshairs mr-2"></i>
                             <span>X√°c th·ª±c</span> 
                             <div id="certSpinner" class="spinner hidden"></div>
                         </button>

                     </div>
                 </div>

                 <div id="memberSelectionArea" class="mt-8 hidden border border-gray-200 rounded-lg p-4 md:p-6 bg-gray-50/50">
                     <h3 class="text-lg md:text-xl font-semibold text-gray-800 mb-3">Ch·ªçn th√†nh vi√™n & T·∫£i ·∫£nh (t√πy ch·ªçn)</h3>
                     <p class="text-sm text-gray-600 mb-5">ƒê√°nh d·∫•u ch·ªçn th√†nh vi√™n mu·ªën nh·∫≠n ch·ª©ng nh·∫≠n. Nh·∫•n "T·∫£i ·∫£nh" ƒë·ªÉ th√™m h√¨nh ·∫£nh c√° nh√¢n l√™n ch·ª©ng nh·∫≠n (b·ªè qua n·∫øu kh√¥ng mu·ªën).</p>

                     <div id="memberListContainer" class="space-y-4 mb-6 max-h-96 overflow-y-auto border-t border-b border-gray-200 py-4">
                     </div>

                     <div class="flex flex-col sm:flex-row items-center gap-4 pt-4 border-t border-gray-200">
                         <button type="button" id="generateSelectedBtn" class="w-full sm:w-auto bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition duration-150 ease-in-out flex items-center justify-center text-base shadow hover:shadow-md disabled:opacity-60 disabled:cursor-not-allowed">
                             <i class="fa-solid fa-file-pdf mr-2"></i>
                             <span>T·∫°o Ch·ª©ng nh·∫≠n</span> 
                             <div id="generateSpinner" class="spinner hidden"></div>
                         </button>
                         <button type="button" id="resetVerificationBtn" class="w-full sm:w-auto text-sm text-gray-500 hover:text-gray-700 hover:underline">
                            <i class="fa-solid fa-arrow-left mr-1"></i> Nh·∫≠p SƒêT kh√°c 
                        </button>
                     </div>
                 </div>

                 <div id="certificateResult" class="mt-8 hidden bg-green-50 p-6 rounded-lg border border-green-300 shadow-sm transition-all duration-500 ease-out">
                     <h3 id="certificateResultTitle" class="text-xl font-semibold text-green-800 mb-3 flex items-center">
                         <i class="fa-solid fa-circle-check text-green-600 mr-2"></i>
                         <span></span>
                    </h3>
                     <p id="certificateResultMessage" class="mb-4 text-green-700"></p>
                     <ul id="downloadLinks" class="space-y-3">
                     </ul>
                 </div>

             </section>

        </main>

        <footer class="text-center mt-16 pt-8 border-t border-gray-200 text-sm text-gray-500">
              <p class="mt-1">Ch√∫c qu√Ω kh√°ch c√≥ m·ªôt chuy·∫øn ƒëi an to√†n v√† √Ω nghƒ©a!</p>
        </footer>
    </div>

    <!-- Modal Cam k·∫øt v√† Ch·ªØ k√Ω -->
    <div id="commitmentModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-[200] p-2 md:p-4 overflow-y-auto hidden">
        <div class="bg-white rounded-lg shadow-xl p-2 md:p-6 w-full max-w-2xl mx-auto max-h-[95vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg md:text-2xl font-bold text-gray-800">Cam k·∫øt ƒëƒÉng k√Ω leo n√∫i</h3>
                <button type="button" id="closeCommitmentBtn" class="text-gray-400 hover:text-gray-600 text-2xl">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <!-- B·∫£n cam k·∫øt -->
            <div class="bg-blue-50 p-2 md:p-4 rounded-lg mb-4">
                <div class="text-center mb-4">
                    <div class="font-bold text-base md:text-lg uppercase mb-1">B·∫¢N CAM K·∫æT T·ª∞ NGUY·ªÜN THAM GIA LEO N√öI</div>
                    <div class="italic text-sm md:text-base">(T·∫°i Khu du l·ªãch Qu·ªëc gia N√∫i B√† ƒêen)</div>
                    <div class="font-semibold mt-2">
                        <span class="font-bold">K√≠nh g·ª≠i:</span> Ban qu·∫£n l√Ω Khu du l·ªãch Qu·ªëc gia N√∫i B√† ƒêen
                    </div>
                </div>
                <div class="mb-2 text-sm md:text-base">
                    <div><strong>H·ªç t√™n:</strong> <span id="commitmentName"></span></div>
                    <div><strong>Ng√†y sinh:</strong> <span id="commitmentBirthday"></span></div>
                    <div><strong>CMND/CCCD s·ªë:</strong> <span id="commitmentCCCD"></span></div>
                    <div><strong>ƒê·ªãa ch·ªâ th∆∞·ªùng tr√∫:</strong> <span id="commitmentAddress"></span></div>
                    <div><strong>S·ªë ƒëi·ªán tho·∫°i li√™n h·ªá:</strong> <span id="commitmentPhone"></span></div>
                    <div><strong>Email:</strong> <span id="commitmentEmail"></span></div>
                    <div><strong>S·ªë l∆∞·ª£ng th√†nh vi√™n:</strong> <span id="commitmentGroupSize"></span></div>
                    <div><strong>Ng√†y leo:</strong> <span id="commitmentDate"></span></div>
                    <div><strong>Gi·ªù leo:</strong> <span id="commitmentTime"></span></div>
                </div>
                <!-- N·ªôi dung cam k·∫øt gi·ªØ nguy√™n nh∆∞ h∆∞·ªõng d·∫´n tr∆∞·ªõc -->
                <div class="text-justify text-xs md:text-sm text-blue-700 space-y-2 leading-relaxed mt-2">
                    <p>
                        V√†o ng√†y <span id="commitmentDay"></span> th√°ng <span id="commitmentMonth"></span> nƒÉm <span id="commitmentYear"></span>, nay t√¥i l√†m b·∫£n cam k·∫øt n√†y ƒë·ªÉ x√°c nh·∫≠n vi·ªác tham gia ho·∫°t ƒë·ªông leo n√∫i t·∫°i N√∫i B√† ƒêen, v·ªõi c√°c n·ªôi dung sau:
                    </p>
                    <p><strong>1. T·ª± nguy·ªán tham gia:</strong> T√¥i t·ª± nguy·ªán tham gia ho·∫°t ƒë·ªông leo n√∫i, ƒë√£ ƒë∆∞·ª£c l·ª±c l∆∞·ª£ng c·ªßa Ban Qu·∫£n l√Ω ph·ªï bi·∫øn ƒë·∫ßy ƒë·ªß th√¥ng tin, h∆∞·ªõng d·∫´n v√† nh·∫≠n th·ª©c r√µ v·ªÅ c√°c nguy c∆°, r·ªßi ro c√≥ th·ªÉ x·∫£y ra trong qu√° tr√¨nh tham gia ho·∫°t ƒë·ªông.</p>
                    <p><strong>2. ƒê·∫£m b·∫£o s·ª©c kh·ªèe c√° nh√¢n:</strong> T√¥i cam k·∫øt c√≥ ƒë·ªß ƒëi·ªÅu ki·ªán s·ª©c kh·ªèe ƒë·ªÉ tham gia ho·∫°t ƒë·ªông leo n√∫i, kh√¥ng m·∫Øc c√°c b·ªánh l√Ω nguy hi·ªÉm ho·∫∑c ·∫£nh h∆∞·ªüng ƒë·∫øn vi·ªác v·∫≠n ƒë·ªông. T√¥i ho√†n to√†n ch·ªãu tr√°ch nhi·ªám v·ªÅ t√¨nh tr·∫°ng s·ª©c kh·ªèe c·ªßa b·∫£n th√¢n.</p>
                    <p><strong>3. Tu√¢n th·ªß quy ƒë·ªãnh v√† h∆∞·ªõng d·∫´n:</strong> Cam k·∫øt ch·∫•p h√†nh nghi√™m t√∫c m·ªçi n·ªôi quy, quy ƒë·ªãnh, h∆∞·ªõng d·∫´n c·ªßa Ban Qu·∫£n l√Ω Khu du l·ªãch qu·ªëc gia N√∫i B√† ƒêen, l·ª±c l∆∞·ª£ng ch·ª©c nƒÉng v√† ng∆∞·ªùi h∆∞·ªõng d·∫´n trong su·ªët qu√° tr√¨nh tham gia ho·∫°t ƒë·ªông.</p>
                    <p><strong>4. Cam k·∫øt b·∫£o v·ªá m√¥i tr∆∞·ªùng v√† ph√≤ng ch√°y ch·ªØa ch√°y r·ª´ng:</strong></p>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>Kh√¥ng x·∫£ r√°c, kh√¥ng h·ªßy ho·∫°i t√†i nguy√™n r·ª´ng, h·ªá sinh th√°i r·ª´ng, c√¥ng tr√¨nh b·∫£o v·ªá v√† ph√°t tri·ªÉn r·ª´ng;</li>
                        <li>Kh√¥ng s·ª≠ d·ª•ng l·ª≠a trong r·ª´ng, kh√¥ng mang theo h√≥a ch·∫•t ƒë·ªôc, ch·∫•t n·ªï, ch·∫•t ch√°y, ch·∫•t d·ªÖ ch√°y v√†o r·ª´ng;</li>
                        <li>Kh√¥ng sƒÉn, b·∫Øt, nh·ªët, gi·∫øt, t√†ng tr·ªØ, v·∫≠n chuy·ªÉn, bu√¥n b√°n ƒë·ªông v·∫≠t r·ª´ng, thu th·∫≠p m·∫´u v·∫≠t c√°c lo√†i th·ª±c v·∫≠t r·ª´ng, ƒë·ªông v·∫≠t r·ª´ng tr√°i quy ƒë·ªãnh c·ªßa ph√°p lu·∫≠t.</li>
                    </ul>
                    <p><strong>5. Cam k·∫øt gi·ªØ g√¨n an ninh tr·∫≠t t·ª± v√† an to√†n c√° nh√¢n:</strong></p>
                    <ul class="list-disc ml-6 space-y-1">
                        <li>Kh√¥ng t·ªï ch·ª©c, s·ª≠ d·ª•ng, mua b√°n tr√°i ph√©p ch·∫•t ma t√∫y; Kh√¥ng t·ªï ch·ª©c ƒë√°nh b·∫°c, c√° ƒë·ªô d∆∞·ªõi m·ªçi h√¨nh th·ª©c trong qu√° tr√¨nh leo n√∫i tr√™n l√¢m ph·∫ßn c·ªßa Ban Qu·∫£n l√Ω;</li>
                        <li>Kh√¥ng t·ª± √Ω t√°ch ƒëo√†n, kh√¥ng ƒëi v√†o c√°c khu v·ª±c c·∫•m ho·∫∑c ƒë·ªãa h√¨nh nguy hi·ªÉm. N·∫øu vi ph·∫°m, t√¥i ho√†n to√†n ch·ªãu tr√°ch nhi·ªám tr∆∞·ªõc ph√°p lu·∫≠t v√† c√°c c∆° quan c√≥ th·∫©m quy·ªÅn.</li>
                    </ul>
                    <p><strong>6. Ch·∫•p nh·∫≠n r·ªßi ro v√† mi·ªÖn tr·ª´ tr√°ch nhi·ªám:</strong> Trong tr∆∞·ªùng h·ª£p x·∫£y ra tai n·∫°n, th∆∞∆°ng t√≠ch ho·∫∑c s·ª± c·ªë ngo√†i √Ω mu·ªën trong qu√° tr√¨nh tham gia ho·∫°t ƒë·ªông, t√¥i cam k·∫øt t·ª± ch·ªãu tr√°ch nhi·ªám v√† kh√¥ng khi·∫øu n·∫°i, khi·∫øu ki·ªán Ban T·ªï ch·ª©c ho·∫∑c Ban Qu·∫£n l√Ω Khu du l·ªãch d∆∞·ªõi b·∫•t k·ª≥ h√¨nh th·ª©c n√†o.</p>
                    <p class="mt-4 font-semibold">
                        T√¥i l√†m cam k·∫øt n√†y v·ªõi tinh th·∫ßn t·ª± nguy·ªán, trung th·ª±c v√† ho√†n to√†n ch·ªãu tr√°ch nhi·ªám tr∆∞·ªõc ph√°p lu·∫≠t v·ªÅ c√°c th√¥ng tin ƒë√£ khai v√† n·ªôi dung cam k·∫øt tr√™n./.
                    </p>
                </div>
            </div>
            <!-- Khu v·ª±c ch·ªØ k√Ω -->
            <div class="border-2 border-dashed border-gray-300 rounded-lg p-2 md:p-4 mb-4">
                <h4 class="text-base md:text-lg font-semibold text-gray-800 mb-2">Ch·ªØ k√Ω x√°c nh·∫≠n:</h4>
                <p class="text-xs md:text-sm text-gray-600 mb-2">Vui l√≤ng k√Ω tay v√†o √¥ b√™n d∆∞·ªõi ƒë·ªÉ x√°c nh·∫≠n cam k·∫øt:</p>
                <canvas id="signatureCanvas" class="w-full h-32 md:h-48 border border-gray-300 rounded bg-white cursor-crosshair"></canvas>
                <div class="flex justify-between items-center mt-2">
                    <button type="button" id="clearSignatureBtn" class="text-xs md:text-sm text-red-600 hover:text-red-800">
                        <i class="fas fa-eraser mr-1"></i> X√≥a ch·ªØ k√Ω
                    </button>
                    <span class="text-xs text-gray-500">K√Ω b·∫±ng tay ho·∫∑c b√∫t c·∫£m ·ª©ng</span>
                </div>
            </div>
            <div class="flex justify-end space-x-2">
                <button type="button" id="cancelCommitmentBtn" class="py-2 px-4 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md font-medium text-xs md:text-sm">
                    H·ªßy b·ªè
                </button>
                <button type="button" id="confirmCommitmentBtn" class="py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-md text-xs md:text-sm">
                    <i class="fas fa-check mr-2"></i> X√°c nh·∫≠n cam k·∫øt
                </button>
            </div>
        </div>
    </div>

         <!-- Modal X√°c nh·∫≠n ƒê·∫°i di·ªán Nh√≥m/C√° nh√¢n -->
     <div id="representativeModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-[200] p-2 md:p-4 overflow-y-auto hidden">
         <div class="bg-white rounded-lg shadow-xl p-3 md:p-6 w-full max-w-lg mx-auto max-h-[95vh] overflow-y-auto">
                         <div class="text-center mb-4 md:mb-6">
                 <div class="w-12 h-12 md:w-16 md:h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3 md:mb-4">
                     <i class="fas fa-user-check text-xl md:text-2xl text-blue-600"></i>
                 </div>
                 <h3 class="text-lg md:text-xl lg:text-2xl font-bold text-gray-800 mb-2">X√°c nh·∫≠n ƒê·∫°i di·ªán</h3>
                 <p class="text-gray-600 text-xs md:text-sm lg:text-base">Vui l√≤ng x√°c nh·∫≠n vai tr√≤ c·ªßa b·∫°n tr∆∞·ªõc khi ƒëƒÉng k√Ω leo n√∫i</p>
             </div>
            
                         <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3 md:p-4 mb-4 md:mb-6">
                 <div class="flex items-start">
                     <i class="fas fa-exclamation-triangle text-yellow-600 mt-1 mr-2 md:mr-3 text-sm md:text-base"></i>
                     <div class="text-xs md:text-sm text-yellow-800">
                         <p class="font-semibold mb-2">L∆∞u √Ω quan tr·ªçng:</p>
                         <ul class="list-disc list-inside space-y-1 text-xs">
                             <li>Ch·ªâ <strong>ƒë·∫°i di·ªán nh√≥m</strong> ho·∫∑c <strong>c√° nh√¢n</strong> m·ªõi ƒë∆∞·ª£c ph√©p ƒëƒÉng k√Ω</li>
                             <li>M·ªói nh√≥m ch·ªâ ƒëƒÉng k√Ω <strong>m·ªôt l·∫ßn duy nh·∫•t</strong></li>
                             <li>Tr√°nh ƒëƒÉng k√Ω tr√πng l·∫∑p ƒë·ªÉ kh√¥ng t·∫°o nhi·ªÅu ch·ª©ng nh·∫≠n</li>
                             <li>N·∫øu b·∫°n l√† th√†nh vi√™n nh√≥m, vui l√≤ng li√™n h·ªá tr∆∞·ªüng ƒëo√†n</li>
                         </ul>
                     </div>
                 </div>
             </div>

                         <!-- Th√¥ng tin quan tr·ªçng v·ªÅ s·ªë l∆∞·ª£ng th√†nh vi√™n v√† th·ªùi gian -->
             <div class="bg-red-50 border border-red-200 rounded-lg p-3 md:p-4 mb-4 md:mb-6">
                 <div class="flex items-start">
                     <i class="fas fa-clock text-red-600 mt-1 mr-2 md:mr-3 text-sm md:text-base"></i>
                     <div class="text-xs md:text-sm text-red-800">
                         <p class="font-semibold mb-2 text-sm md:text-base">‚ö†Ô∏è TH√îNG TIN QUAN TR·ªåNG:</p>
                         <div class="space-y-2">
                             <div class="bg-white p-2 md:p-3 rounded border border-red-200">
                                 <p class="font-bold text-red-700 mb-1 text-xs md:text-sm">üìä S·ªë l∆∞·ª£ng th√†nh vi√™n:</p>
                                 <p class="text-xs">‚Ä¢ Cung c·∫•p <strong>s·ªë l∆∞·ª£ng th√†nh vi√™n ch√≠nh x√°c</strong> khi ƒëƒÉng k√Ω</p>
                                 <p class="text-xs">‚Ä¢ S·ªë l∆∞·ª£ng n√†y s·∫Ω ƒë∆∞·ª£c in tr√™n ch·ª©ng nh·∫≠n</p>
                                 <p class="text-xs">‚Ä¢ Kh√¥ng th·ªÉ thay ƒë·ªïi sau khi ƒëƒÉng k√Ω</p>
                             </div>
                             <div class="bg-white p-2 md:p-3 rounded border border-red-200">
                                 <p class="font-bold text-red-700 mb-1 text-xs md:text-sm">‚è±Ô∏è Th·ªùi gian leo n√∫i:</p>
                                 <p class="text-xs">‚Ä¢ Th·ªùi gian ƒë∆∞·ª£c t√≠nh t·ª´ <strong>l√∫c b·∫Øt ƒë·∫ßu leo</strong> ƒë·∫øn <strong>l√∫c ·∫•n x√°c nh·∫≠n tr√™n ƒë·ªânh</strong></p>
                                 <p class="text-xs">‚Ä¢ H·ªá th·ªëng s·∫Ω ghi nh·∫≠n th·ªùi gian th·ª±c khi b·∫°n x√°c nh·∫≠n v·ªã tr√≠</p>
                                 <p class="text-xs">‚Ä¢ Th·ªùi gian n√†y s·∫Ω hi·ªÉn th·ªã tr√™n ch·ª©ng nh·∫≠n</p>
                             </div>
                         </div>
                     </div>
                 </div>
             </div>

                         <div class="space-y-3 md:space-y-4 mb-4 md:mb-6">
                 <div class="flex items-start p-2 md:p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors" onclick="selectRepresentativeType('leader')">
                     <input type="radio" id="leaderType" name="representativeType" value="leader" class="mr-2 md:mr-3 mt-1">
                     <div class="flex-1">
                         <label for="leaderType" class="font-semibold text-gray-800 cursor-pointer text-sm md:text-base">T√¥i l√† Tr∆∞·ªüng ƒëo√†n/ƒê·∫°i di·ªán nh√≥m</label>
                         <p class="text-xs md:text-sm text-gray-600 mt-1">T√¥i s·∫Ω ƒëƒÉng k√Ω cho c·∫£ nh√≥m v√† ch·ªãu tr√°ch nhi·ªám v·ªÅ th√¥ng tin</p>
                     </div>
                 </div>
                 
                 <div class="flex items-start p-2 md:p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors" onclick="selectRepresentativeType('individual')">
                     <input type="radio" id="individualType" name="representativeType" value="individual" class="mr-2 md:mr-3 mt-1">
                     <div class="flex-1">
                         <label for="individualType" class="font-semibold text-gray-800 cursor-pointer text-sm md:text-base">T√¥i l√† C√° nh√¢n leo n√∫i</label>
                         <p class="text-xs md:text-sm text-gray-600 mt-1">T√¥i s·∫Ω ƒëƒÉng k√Ω cho b·∫£n th√¢n m√¨nh</p>
                     </div>
                 </div>
                 
                 <div class="flex items-start p-2 md:p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors" onclick="selectRepresentativeType('member')">
                     <input type="radio" id="memberType" name="representativeType" value="member" class="mr-2 md:mr-3 mt-1">
                     <div class="flex-1">
                         <label for="memberType" class="font-semibold text-gray-800 cursor-pointer text-sm md:text-base">T√¥i l√† Th√†nh vi√™n nh√≥m</label>
                         <p class="text-xs md:text-sm text-gray-600 mt-1">T√¥i kh√¥ng ph·∫£i ƒë·∫°i di·ªán, vui l√≤ng li√™n h·ªá tr∆∞·ªüng ƒëo√†n</p>
                     </div>
                 </div>
             </div>

                         <div class="flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3">
                 <button type="button" id="cancelRepresentativeBtn" class="w-full sm:w-auto py-2 px-4 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md font-medium text-sm">
                     H·ªßy b·ªè
                 </button>
                 <button type="button" id="confirmRepresentativeBtn" class="w-full sm:w-auto py-2 px-6 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed">
                     <i class="fas fa-check mr-2"></i> Ti·∫øp t·ª•c
                 </button>
             </div>
        </div>
    </div>

    <div id="cropModal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-[100] hidden p-4">
        <div class="bg-white rounded-lg shadow-xl p-5 max-w-xl w-full mx-auto">
            <h3 class="text-xl font-semibold mb-4 text-gray-800">C·∫Øt ·∫£nh theo t·ª∑ l·ªá y√™u c·∫ßu</h3>
            <p class="text-sm text-gray-600 mb-4">Di chuy·ªÉn v√† thay ƒë·ªïi k√≠ch th∆∞·ªõc v√πng ch·ªçn ƒë·ªÉ c·∫Øt ·∫£nh.</p>
            <div class="mb-4 max-h-[60vh] overflow-hidden bg-gray-100 border border-gray-300 rounded">
                <img id="imageToCrop" src="" alt="·∫¢nh c·∫ßn c·∫Øt" class="max-w-full block">
            </div>
            <div class="flex justify-end space-x-3">
                <button type="button" id="cancelCropBtn" class="py-2 px-4 bg-gray-300 hover:bg-gray-400 text-gray-800 rounded-md transition duration-150 ease-in-out text-sm font-medium">
                    H·ªßy b·ªè
                </button>
                <button type="button" id="confirmCropBtn" class="py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-md transition duration-150 ease-in-out text-sm">
                    <i class="fa-solid fa-crop-simple mr-1"></i> X√°c nh·∫≠n
                </button>
            </div>
        </div>
    </div>

    <!-- Load critical JavaScript first -->
    <script src="../js/cache-utils.js"></script>
    
    <!-- Load map-related JavaScript asynchronously when needed -->
    <!-- Load Leaflet and dependencies synchronously -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.81.0/dist/L.Control.Locate.min.js" charset="utf-8"></script>
    
    <script>
        // Lazy load cropper when needed
        function loadCropperJS() {
            if (window.Cropper) return Promise.resolve();
            
            return new Promise((resolve, reject) => {
                // Check if already loading
                if (window._cropperLoading) {
                    window._cropperLoading.then(resolve).catch(reject);
                    return;
                }
                
                window._cropperLoading = new Promise((res, rej) => {
                    console.log('HTML: Loading Cropper.js from CDN...');
                    const cropperScript = document.createElement('script');
                    cropperScript.src = 'https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.js';
                    cropperScript.onload = () => {
                        console.log('HTML: Cropper.js script loaded');
                        // Wait a bit more to ensure Cropper is available
                        setTimeout(() => {
                            if (window.Cropper) {
                                console.log('HTML: Cropper.js is available');
                                window._cropperLoading = null;
                                res();
                            } else {
                                console.log('HTML: Cropper.js not available after load');
                                window._cropperLoading = null;
                                rej(new Error('Cropper.js not available after loading'));
                            }
                        }, 100);
                    };
                    cropperScript.onerror = () => {
                        console.log('HTML: Failed to load Cropper.js');
                        window._cropperLoading = null;
                        rej(new Error('Failed to load Cropper.js'));
                    };
                    document.head.appendChild(cropperScript);
                });
                
                window._cropperLoading.then(resolve).catch(reject);
            });
        }
        
        // Make loadCropperJS available globally
        window.loadCropperJS = loadCropperJS;
    </script>
    
    <!-- Load main climb script -->
    <script src="../js/climb.js?v=1.1"></script>

    <!-- Footer -->
    <footer id="footer" class="bg-white pt-16 pb-8 px-4 border-t border-gray-100 mt-auto">
        <div class="container mx-auto max-w-5xl">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-8">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                        <img src="../assets/images/android-chrome-512x512.png" alt="Logo N√∫i B√† ƒêen" class="w-10 h-10 rounded-full">
                        <h3 class="font-bold text-lg text-gray-800">KDL qu·ªëc gia N√∫i B√† ƒêen</h3>
                    </div>
                    <p class="text-gray-600 mb-4">"N√≥c nh√† Nam B·ªô" - ƒëi·ªÉm ƒë·∫øn t√¢m linh v√† du l·ªãch sinh th√°i h·∫•p d·∫´n h√†ng ƒë·∫ßu Vi·ªát Nam.</p>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Li√™n k·∫øt nhanh</h3>
                    <ul class="space-y-2">
                        <li><a href="../home.html" class="text-gray-600 hover:text-primary-500 transition duration-200">Trang ch·ªß</a></li>
                        <li><a href="map.html" class="text-gray-600 hover:text-primary-500 transition duration-200">B·∫£n ƒë·ªì s·ªë</a></li>
                        <li><a href="guide.html" class="text-gray-600 hover:text-primary-500 transition duration-200">C·∫©m nang du l·ªãch</a></li>
                        <li><a href="climb.html" class="text-gray-600 hover:text-primary-500 transition duration-200">ƒêƒÉng k√Ω leo n√∫i</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Th√¥ng tin li√™n h·ªá</h3>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fas fa-envelope text-gray-400 mt-1.5 w-5"></i>
                            <a href="mailto:bqlnuiba@gmail.com" class="ml-2 text-gray-600 hover:text-primary-500 transition duration-200">bqlnuiba@gmail.com</a>
                        </li>
                        <li class="flex items-start">
                            <i class="fab fa-facebook text-gray-400 mt-1.5 w-5"></i>
                            <a href="https://www.facebook.com/bqlkdlquocgianuibaden" target="_blank" class="ml-2 text-gray-600 hover:text-primary-500 transition duration-200">Fanpage Facebook</a>
                        </li>
                        <li class="flex items-start">
                            <i class="fab fa-tiktok text-gray-400 mt-1.5 w-5"></i>
                            <a href="https://www.tiktok.com/@nuibadenbql" target="_blank" class="ml-2 text-gray-600 hover:text-primary-500 transition duration-200">nuibadenbql (TikTok)</a>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-globe text-gray-400 mt-1.5 w-5"></i>
                            <a href="http://khudulichnuibaden.tayninh.gov.vn" target="_blank" class="ml-2 text-gray-600 hover:text-primary-500 transition duration-200">khudulichnuibaden.tayninh.gov.vn</a>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-phone text-gray-400 mt-1.5 w-5"></i>
                            <a href="tel:02763823378" class="ml-2 text-gray-600 hover:text-primary-500 transition duration-200">0276 3823378</a>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-100 pt-6 text-center">
                <p class="text-gray-500 text-sm">&copy; <span id="currentYear"></span> Ban Qu·∫£n l√Ω Khu du l·ªãch qu·ªëc gia N√∫i B√† ƒêen.</p>
            </div>
        </div>
    </footer>

    <!-- Load main script with defer -->
    <script src="../js/main.js" defer></script>

    <!-- Language Popup -->
    <div id="languagePopup" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
        <div class="bg-white rounded-lg p-6 max-w-sm w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold text-gray-800">Ch·ªçn ng√¥n ng·ªØ</h3>
                <button onclick="toggleLanguageMenu()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="language-options space-y-2">
                <button onclick="translatePage('vi')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-100 flex items-center">
                    <span class="mr-2"><img src="https://flagcdn.com/24x18/vn.png" alt="VN" class="inline w-6 h-4 rounded-sm"></span>
                    <span>Ti·∫øng Vi·ªát</span>
                </button>
                <button onclick="translatePage('en')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-100 flex items-center">
                    <span class="mr-2"><img src="https://flagcdn.com/24x18/gb.png" alt="GB" class="inline w-6 h-4 rounded-sm"></span>
                    <span>English</span>
                </button>
                <button onclick="translatePage('fr')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-100 flex items-center">
                    <span class="mr-2"><img src="https://flagcdn.com/24x18/fr.png" alt="FR" class="inline w-6 h-4 rounded-sm"></span>
                    <span>Fran√ßais</span>
                </button>
                <button onclick="translatePage('de')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-100 flex items-center">
                    <span class="mr-2"><img src="https://flagcdn.com/24x18/de.png" alt="DE" class="inline w-6 h-4 rounded-sm"></span>
                    <span>Deutsch</span>
                </button>
                <button onclick="translatePage('ja')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-100 flex items-center">
                    <span class="mr-2"><img src="https://flagcdn.com/24x18/jp.png" alt="JP" class="inline w-6 h-4 rounded-sm"></span>
                    <span>Êó•Êú¨Ë™û</span>
                </button>
                <button onclick="translatePage('ko')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-100 flex items-center">
                    <span class="mr-2"><img src="https://flagcdn.com/24x18/kr.png" alt="KR" class="inline w-6 h-4 rounded-sm"></span>
                    <span>ÌïúÍµ≠Ïñ¥</span>
                </button>
                <button onclick="translatePage('zh-CN')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-100 flex items-center">
                    <span class="mr-2"><img src="https://flagcdn.com/24x18/cn.png" alt="CN" class="inline w-6 h-4 rounded-sm"></span>
                    <span>‰∏≠Êñá</span>
                </button>
                <button onclick="translatePage('ru')" class="w-full text-left px-4 py-2 rounded hover:bg-gray-100 flex items-center">
                    <span class="mr-2"><img src="https://flagcdn.com/24x18/ru.png" alt="RU" class="inline w-6 h-4 rounded-sm"></span>
                    <span>–†—É—Å—Å–∫–∏–π</span>
                </button>
            </div>
        </div>
    </div>
    <style>
    body .goog-te-banner-frame.skiptranslate {
        display: none !important;
    }
    body {
        top: 0px !important;
    }
    .skiptranslate, .skiptranslate * {
        display: none !important;
        visibility: hidden !important;
        height: 0 !important;
        width: 0 !important;
        position: absolute !important;
        top: -9999px !important;
        left: -9999px !important;
    }
    </style>
    <script type="text/javascript">
        function toggleLanguageMenu() {
            const popup = document.getElementById('languagePopup');
            if (popup.classList.contains('hidden')) {
                popup.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            } else {
                popup.classList.add('hidden');
                document.body.style.overflow = '';
            }
        }
        function translatePage(langCode) {
            document.cookie = `googtrans=/${langCode}; path=/; domain=.${window.location.hostname}`;
            document.cookie = `googtrans=/${langCode}; path=/; domain=${window.location.hostname}`;
            window.location.reload();
        }
        document.getElementById('languagePopup').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleLanguageMenu();
            }
        });
        function loadGoogleTranslate() {
            var script = document.createElement('script');
            script.src = '//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit';
            document.body.appendChild(script);
        }
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'vi',
                includedLanguages: 'en,fr,de,ja,ko,zh-CN,ru',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
        window.onload = loadGoogleTranslate;
    </script>

    <!-- Load date picker asynchronously when needed -->
    <script>
        // Lazy load Flatpickr when date inputs are focused
        function loadFlatpickr() {
            if (window.flatpickr) return Promise.resolve();
            
            return new Promise((resolve) => {
                const flatpickrScript = document.createElement('script');
                flatpickrScript.src = 'https://cdn.jsdelivr.net/npm/flatpickr';
                flatpickrScript.onload = function() {
                    // Load Vietnamese locale
                    const localeScript = document.createElement('script');
                    localeScript.src = 'https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/vn.js';
                    localeScript.onload = resolve;
                    document.head.appendChild(localeScript);
                };
                document.head.appendChild(flatpickrScript);
            });
        }
        
        // Initialize date picker when needed
        document.addEventListener('DOMContentLoaded', function() {
            const dateInputs = document.querySelectorAll('input[type="date"], #birthday, #climbDate');
            dateInputs.forEach(input => {
                input.addEventListener('focus', function() {
                    loadFlatpickr().then(() => {
                        if (!input.flatpickr) {
                            flatpickr(input, {
                                locale: 'vn',
                                dateFormat: input.type === 'date' ? 'Y-m-d' : 'd/m/Y'
                            });
                        }
                    });
                }, { once: true });
            });
        });
    </script>
</body>
</html>